<!doctype html>
<html lang="en" style="scrollbar-gutter: stable" class="group">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ html .Name }}</title>
    <script src="src/theme.ts" type="module"></script>
  </head>
  <body class="p-8">
    {{- define "icon" }}
      {{- if .IsDir }}
        {{- if .IsSymlink }}
          <i class="size-[24px] i-tabler-folder-symlink"></i>
        {{- else }}
          <i class="size-[24px] i-tabler-folder"></i>
        {{- end }}
      {{- else if or (eq .Name "LICENSE") (eq .Name "README") }}
        <i class="size-[24px] i-tabler-license"></i>
      {{- else if .HasExt ".jpg" ".jpeg" ".png" ".gif" ".webp" ".tiff" ".bmp" ".heif" ".heic" ".svg" ".avif" }}
        <i class="size-[24px] i-tabler-photo"></i>
      {{- else if .HasExt ".mp4" ".mov" ".m4v" ".mpeg" ".mpg" ".avi" ".ogg" ".webm" ".mkv" ".vob" ".gifv" ".3gp" }}
        <i class="size-[24px] i-tabler-movie"></i>
      {{- else if .HasExt ".mp3" ".m4a" ".aac" ".ogg" ".flac" ".wav" ".wma" ".midi" ".cda" }}
        <i class="size-[24px] i-tabler-file-music"></i>
      {{- else if .HasExt ".pdf" }}
        <i class="size-[24px] i-tabler-file-type-pdf"></i>
      {{- else if .HasExt ".csv" ".tsv" }}
        <i class="size-[24px] i-tabler-file-type-csv"></i>
      {{- else if .HasExt ".txt" ".doc" ".docx" ".odt" ".fodt" ".rtf" }}
        <i class="size-[24px] i-tabler-file-text"></i>
      {{- else if .HasExt ".xls" ".xlsx" ".ods" ".fods" }}
        <i class="size-[24px] i-tabler-file-spreadsheet"></i>
      {{- else if .HasExt ".ppt" ".pptx" ".odp" ".fodp" }}
        <i class="size-[24px] i-tabler-presentation-analytics"></i>
      {{- else if .HasExt ".zip" ".gz" ".xz" ".tar" ".7z" ".rar" ".xz" ".zst" }}
        <i class="size-[24px] i-tabler-file-zip"></i>
      {{- else if .HasExt ".deb" ".dpkg" }}
        <i class="size-[24px] i-tabler-brand-debian"></i>
      {{- else if .HasExt ".rpm" ".exe" ".flatpak" ".appimage" ".jar" ".msi" ".apk" }}
        <i class="size-[24px] i-tabler-package"></i>
      {{- else if .HasExt ".ps1" }}
        <i class="size-[24px] i-tabler-brand-powershell"></i>
      {{- else if .HasExt ".py" ".pyc" ".pyo" }}
        <i class="size-[24px] i-tabler-brand-python"></i>
      {{- else if .HasExt ".bash" ".sh" ".com" ".bat" ".dll" ".so" }}
        <i class="size-[24px] i-tabler-script"></i>
      {{- else if .HasExt ".dmg" }}
        <i class="size-[24px] i-tabler-brand-finder"></i>
      {{- else if .HasExt ".iso" ".img" }}
        <i class="size-[24px] i-tabler-disc"></i>
      {{- else if .HasExt ".md" ".mdown" ".markdown" }}
        <i class="size-[24px] i-tabler-markdown"></i>
      {{- else if .HasExt ".ttf" ".otf" ".woff" ".woff2" ".eof" }}
        <i class="size-[24px] i-tabler-file-typography"></i>
      {{- else if .HasExt ".go" }}
        <i class="size-[24px] i-tabler-brand-golang"></i>
      {{- else if .HasExt ".html" ".htm" }}
        <i class="size-[24px] i-tabler-file-type-html"></i>
      {{- else if .HasExt ".js" }}
        <i class="size-[24px] i-tabler-file-type-js"></i>
      {{- else if .HasExt ".css" }}
        <i class="size-[24px] i-tabler-file-type-css"></i>
      {{- else if .HasExt ".json" ".json5" ".jsonc" }}
        <i class="size-[24px] i-tabler-json"></i>
      {{- else if .HasExt ".ts" }}
        <i class="size-[24px] i-tabler-file-type-ts"></i>
      {{- else if .HasExt ".sql" }}
        <i class="size-[24px] i-tabler-file-type-sql"></i>
      {{- else if .HasExt ".db" ".sqlite" ".bak" ".mdb" }}
        <i class="size-[24px] i-tabler-database"></i>
      {{- else if .HasExt ".eml" ".email" ".mailbox" ".mbox" ".msg" }}
        <i class="size-[24px] i-tabler-mail"></i>
      {{- else if .HasExt ".crt" ".pem" ".x509" ".cer" ".ca-bundle" }}
        <i class="size-[24px] i-tabler-certificate"></i>
      {{- else if .HasExt ".key" ".keystore" ".jks" ".p12" ".pfx" ".pub" }}
        <i class="size-[24px] i-tabler-key"></i>
      {{- else }}
        {{- if .IsSymlink }}
          <i class="size-[24px] i-tabler-file-symlink"></i>
        {{- else }}
          <i class="size-[24px] i-tabler-file"></i>
        {{- end }}
      {{- end }}
    {{- end }}
    <div class="breadcrumbs text-sm px-4 flex justify-between h-10">
      <ul>
        {{- range $i, $crumb := .Breadcrumbs }}
          <li class="h-[16px]">
            <a href="{{ html $crumb.Link }}" class="min-w-4">
              {{ if eq $i 0 }}
                <i class="size-[16px] i-tabler-home"></i>
              {{ else }}
                {{ html $crumb.Text }}
              {{ end }}</a
            >
          </li>
        {{- end }}
      </ul>
      <label class="swap swap-rotate">
        <input type="checkbox" id="dark-mode-toggle" value="dark" />
        <i class="swap-off i-tabler-sun"></i>
        <i class="swap-on i-tabler-moon"></i>
      </label>
    </div>
    <ul class="list mt-4">
      {{- if .CanGoUp }}
        <a class="hover:bg-[var(--color-base-200)]" href="..">
          <li class="list-row items-center">
            <i class="size-[24px] i-tabler-corner-left-up"></i>
            <div>Parent Directory</div>
          </li></a
        >
      {{- end }}
      {{- range .Items }}
        <a
          href="{{ html .URL }}"
          class="hover:bg-[var(--color-base-200)]"
          {{- if
            .IsDir
          }}
            data-is-directory="true"
          {{ end }}
          data-file-name="{{ html .Name }}"
          data-file-size="{{ .Size }}"
          data-file-mod-time="{{ html (.ModTime) }}"
        >
          <li class="list-row items-center">
            {{- template "icon" . }}
            <div>{{ html .Name }}</div>
            <div>{{ .HumanSize }}</div>
            <div>{{ html (.HumanModTime "2006-01-02 15:04:05") }}</div>
          </li>
        </a>
      {{ end }}
    </ul>
    <div class="text-xs text-right text-gray-500 mt-4 mx-4">
      <a
        href="https://github.com/oott123/listingway"
        class="link hover:text-blue-500"
        target="_blank"
        rel="noopener noreferrer"
        >listingway</a
      >
    </div>
    <dialog id="file-dialog" class="modal">
      <div class="modal-box space-y-4 pb-8">
        <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2" data-close>âœ•</button>
        <h3 data-fill="file-name" class="text-lg font-bold w-full truncate">100mb.test</h3>
        <div class="stats shadow flex flex-col md:flex-row">
          <div class="stat">
            <div class="stat-title">Size</div>
            <div data-fill="file-size" class="stat-value text-base font-semibold">100MB</div>
          </div>
          <div class="stat">
            <div class="stat-title">Modified</div>
            <div data-fill="file-modified" class="stat-value text-base font-semibold">2025-01-01 12:00:00</div>
          </div>
        </div>
        <div class="flex flex-col md:flex-row gap-2 items-center">
          <a href="" target="_blank" class="btn w-full md:flex-1" data-file-url>
            <i class="i-tabler-external-link text-base"></i>
            <span class="flex-1">Open in Browser</span>
          </a>
          <progress class="hidden progress w-full md:flex-1 mx-4" data-download-progress max="100" value="0"></progress>
          <button
            class="btn btn-primary w-full md:flex-1 group-[.storage-enabled]:flex hidden"
            data-file-url
            data-download-accelerated
          >
            <i class="i-tabler-cloud-download text-base"></i>
            <span class="flex-1">Accelerated Download</span>
          </button>
          <button class="btn btn-success w-full md:flex-1 hidden" data-success>
            <i class="i-tabler-check text-base"></i>
            <span class="flex-1">Successfully Downloaded</span>
          </button>
        </div>
      </div>
    </dialog>
    <script src="src/index.ts" type="module"></script>
  </body>
</html>
